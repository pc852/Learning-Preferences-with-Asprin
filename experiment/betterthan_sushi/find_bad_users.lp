activate_user(0..4999).

transitiveTrio(A,B,C,D) :- pref(B,better,C,A), pref(C,better,D,A), activate_user(A).
transitiveErrorTrio(A,B,C,D) :- transitiveTrio(A,B,C,D), pref(D,better,B,A), activate_user(A).
transitiveErrorTrio(A,C,B,D) :- transitiveErrorTrio(A,B,C,D), activate_user(A).
transitiveErrorUnique(A,B,C,D) :- transitiveErrorTrio(A,B,C,D), B<C, C<D, activate_user(A).

bad_users(A,transitiveError) 		:- transitiveErrorUnique(A,_,_,_), activate_user(A).

%#show transitiveTrio/4.
#show transitiveErrorTrio/4.
%#show bad_users/2.



model(0..99).
% sushi(<ID>, <style>, <major grp>, <minor grp>, <oiliness 0-100>, <often eaten? 0-100>, <price >=100>, <often sold? 0-100>).
sushi(0,1,0,6,68,71,183,84).
sushi(1,1,0,3,23,66,199,88).
sushi(2,1,0,1,44,78,187,88).
sushi(3,1,0,5,67,68,151,92).
sushi(4,1,0,8,20,54,328,88).
sushi(5,1,0,5,77,57,138,76).
sushi(6,1,0,7,31,65,269,88).
sushi(7,1,1,9,59,62,103,84).
sushi(8,1,0,1,13,68,448,80).
sushi(9,1,0,6,47,68,192,76).
sushi(10,1,0,4,58,59,177,76).
sushi(11,1,0,2,74,56,226,76).
sushi(12,1,0,4,62,44,333,72).
sushi(13,1,0,0,31,62,167,64).
sushi(14,1,0,4,63,36,364,64).
sushi(15,1,0,1,31,68,151,64).
sushi(16,1,0,7,67,39,237,60).
sushi(17,1,0,6,64,33,185,60).
sushi(18,1,0,0,47,46,148,56).
sushi(19,1,0,1,19,67,316,56).
sushi(20,1,0,2,74,53,306,56).
sushi(21,1,0,0,58,53,208,56).
sushi(22,1,0,6,70,49,203,52).
sushi(23,1,0,0,67,38,105,52).
sushi(24,1,0,4,63,37,212,48).
sushi(25,1,0,3,13,47,223,48).
sushi(26,0,0,1,56,62,157,44).
sushi(27,1,0,0,39,52,246,44).
sushi(28,1,0,4,59,33,247,40).
sushi(29,0,1,11,93,48,102,40).
sushi(30,1,0,5,58,38,101,40).
sushi(31,1,0,1,47,49,146,36).
sushi(32,1,0,0,52,44,134,32).
sushi(33,1,0,4,64,36,229,32).
sushi(34,1,0,0,55,41,268,28).
sushi(35,1,0,8,22,34,183,32).
sushi(36,1,0,2,55,46,200,28).
sushi(37,1,0,1,31,69,247,28).
sushi(38,0,1,11,41,46,100,28).
sushi(39,1,0,0,70,34,181,24).
sushi(40,0,1,11,83,33,103,24).
sushi(41,1,0,6,49,52,304,24).
sushi(42,1,0,7,56,29,140,24).
sushi(43,1,1,11,39,54,100,20).
sushi(44,1,0,7,45,34,149,20).
sushi(45,1,1,11,61,48,120,20).
sushi(46,1,0,2,66,37,313,20).
sushi(47,1,0,6,67,43,341,20).
sushi(48,0,1,11,84,37,104,20).
sushi(49,1,0,7,56,26,216,20).
sushi(50,1,0,7,46,31,115,20).
sushi(51,1,0,4,60,29,144,20).
sushi(52,1,0,4,62,30,170,16).
sushi(53,1,0,1,17,58,262,16).
sushi(54,1,0,0,45,41,151,12).
sushi(55,1,0,2,64,27,150,12).
sushi(56,1,1,11,79,22,116,12).
sushi(57,1,0,2,77,48,133,12).
sushi(58,1,1,11,38,44,129,12).
sushi(59,1,0,8,18,20,175,12).
sushi(60,0,1,11,70,40,100,12).
sushi(61,0,0,1,31,66,236,12).
sushi(62,1,1,10,28,29,203,12).
sushi(63,1,0,4,57,30,200,12).
sushi(64,1,1,10,36,24,238,12).
sushi(65,1,0,2,78,24,233,8).
sushi(66,1,0,4,60,38,185,8).
sushi(67,0,0,3,55,31,158,8).
sushi(68,1,0,4,62,31,250,8).
sushi(69,1,1,11,59,20,100,8).
sushi(70,0,1,11,82,40,100,8).
sushi(71,0,1,11,52,49,100,8).
sushi(72,0,0,7,46,33,125,8).
sushi(73,1,0,0,24,54,162,8).
sushi(74,0,1,11,87,34,100,8).
sushi(75,1,0,5,39,36,109,8).
sushi(76,1,0,1,37,45,212,8).
sushi(77,1,0,4,56,26,100,8).
sushi(78,1,1,11,85,26,114,8).
sushi(79,1,0,6,60,56,320,8).
sushi(80,1,1,11,76,26,100,4).
sushi(81,1,0,2,49,14,300,4).
sushi(82,1,0,2,59,29,266,4).
sushi(83,1,1,10,70,21,100,4).
sushi(84,1,1,10,31,18,200,4).
sushi(85,1,1,10,32,18,150,4).
sushi(86,0,0,4,67,16,150,4).
sushi(87,1,0,0,62,22,150,4).
sushi(88,1,0,2,66,36,200,4).
sushi(89,1,0,0,58,17,200,4).
sushi(90,1,0,8,56,22,100,4).
sushi(91,1,0,0,41,39,100,4).
sushi(92,1,0,7,33,13,100,4).
sushi(93,1,0,7,42,15,172,4).
sushi(94,1,0,8,36,18,100,4).
sushi(95,1,0,2,65,36,100,4).
sushi(96,1,0,0,49,33,100,4).
sushi(97,1,0,8,48,14,150,4).
sushi(98,1,0,0,54,20,100,4).
sushi(99,1,0,4,44,24,125,4).

in(hasStyle(X),M)     :- sushi(M,X,_,_,_,_,_,_).
in(hasMajorGrp(X),M)  :- sushi(M,_,X,_,_,_,_,_).
in(hasMinorGrp(X),M)  :- sushi(M,_,_,X,_,_,_,_).
in(hasOiliness(X),M)  :- sushi(M,_,_,_,X,_,_,_).
in(hasOftenEaten(X),M):- sushi(M,_,_,_,_,X,_,_).
in(hasPrice(X),M)     :- sushi(M,_,_,_,_,_,X,_).
in(hasOftenSold(X),M) :- sushi(M,_,_,_,_,_,_,X).
